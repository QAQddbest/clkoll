# clkoll

**Cl**oc**k** on ep**oll**

---

本工程为电子科技大学嵌入式网络编程第二章作业

---

## 1. 两种方案，当A节点向B发送字节流时，B能判断是否全部接受。

1. 提前发送文件大小。

   例子：Http非chunk传输时的头部字段`Content-Length`。

   优点：接收方直接得知文件大小，可预先分配资源。

   缺点：发送方需计算文件大小。当文件以流的形式传输时无法使用此方法。

   **适用于小文件、非流式文件传输**

2. 通过一个约定好的数据帧判断。

   例子：Http以chunk传输时，以最后一个空内容的数据帧指示传输完成。

   优点：发送方可以随时发送，没有限制。

   缺点：接受方无法预先分配资源。

   **适用于大文件、流式文件传输**

## 2. 实现UDP的简易时间服务器，包含客户端与服务端，支持多客户端连接，使用信号驱动方式。

> 也就是本工程代码

其中，客户机发送以下三种命令

1. `get time`
2. `get date`
3. `get datetime`

以及退出指令`exit`。

其中，服务器以epoll+多线程方式实现多客户端同时连接访问。

